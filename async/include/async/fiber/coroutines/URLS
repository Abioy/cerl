http://rain.ifmo.ru/~sorokin/lj/coroutines/